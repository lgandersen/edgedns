[
    % EdgeDNS Core.
    {edge_core, [
        % Port wher we listen for incoming DNS queries.
        {port, 1553},

        % Range of ports used when communicating with upstream DNS-server
        {port_range_resolvers, {5333, 5334}},

        % Number of points that triggers blocking
        {blocking_threshold, 500},

        % Decay rate of traffic-scoring
        {decay_rate, 0.90},

        % Number of messages we can handle being
        % delivered to our inbox from the UDP
        % listener.
        {active_message_count, 10},

        % Upstream DNS Server.
        {nameserver,
            {{91,239,100,100}, 53} % Not very nice formatting atm.

            % TCP, explicit port.
            %"tcp://91.239.100.100:53"

            % UDP, implicit port 53.
            % "udp://89.233.43.71",

            % TCP, IPv6
            % "tcp://[2001:67c:28a4::]:53"
        }
    ]},

    % SASL configuration.
    {sasl, [
        % Log file.
        {sasl_error_logger, {file, "log/sasl-error.log"}},

        % Log type.
        {errlog_type, error},

        % Log directory.
        {error_logger_mf_dir, "log/sasl"},

        % 10 MB max file size.
        {error_logger_mf_maxbytes, 10485760},

        % 5 files max.
        {error_logger_mf_maxfiles, 5}
    ]},

    % Lager configuration.
    {lager, [
        % Console colors.
        {colored, true},

        % Log handlers configuration.
        {handlers, [
            % Console logging.
            {lager_console_backend, notice},

            % Error file logging.
            {lager_file_backend, [
                {file, "log/error.log"},
                {level, error},
                {date, "$D0"},
                {count, 5}
            ]},

            % Console file logging.
            {lager_file_backend, [
                {file, "log/console.log"},
                {level, notice},
                {date, "$D0"},
                {count, 5}
            ]}
        ]}
    ]}


].

%% vim: set ft=erlang :
